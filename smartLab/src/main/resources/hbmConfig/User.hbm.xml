<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="cn.dlpu.oa.domain.User" table="user" catalog="dlpu_oa">
        <id name="id" type="integer">
            <column name="id" />
            <generator class="native"></generator>
        </id>
        <many-to-one name="department" class="cn.dlpu.oa.domain.Department" fetch="select">
            <column name="departmentId" unique="true" />
        </many-to-one>
        <property name="loginName" type="string">
            <column name="loginName" length="20" not-null="true" />
        </property>
        <property name="realName" type="string">
            <column name="realName" length="20" not-null="true" />
        </property>
        <property name="gender" type="integer">
            <column name="gender" />
        </property>
        <property name="phone" type="string">
            <column name="phone" length="11" />
        </property>
        <property name="email" type="string">
            <column name="email" length="50" />
        </property>
        <property name="description" type="string">
            <column name="description" length="200" />
        </property>
        <property name="password" type="string">
            <column name="password" length="16" not-null="true" />
        </property>
        <set name="roles" inverse="false" table="role_user" lazy="false">
            <key>
                <column name="userId" not-null="true" unique="true" />
            </key>
            <many-to-many class="cn.dlpu.oa.domain.Role"  column="roleId"/>
        </set>
        <set name="records" inverse="false" table="record_user" lazy="false">
            <key>
                <column name="userId" not-null="true"></column>
            </key>
            <many-to-many class="cn.dlpu.oa.domain.Record" column="recordId"></many-to-many>
        </set>
        <set name="stageSummarys" inverse="true">
            <key>
                <column name="authorId" />
            </key>
            <one-to-many class="cn.dlpu.oa.domain.StageSummary" />
        </set>
        <set name="experiments" inverse="true">
            <key>
                <column name="mainOperate" />
            </key>
            <one-to-many class="cn.dlpu.oa.domain.Experiment" />
        </set>
        <set name="projects" inverse="true">
            <key>
                <column name="claimerId" />
            </key>
            <one-to-many class="cn.dlpu.oa.domain.Project" />
        </set>
        <many-to-one name="supervisor" class="cn.dlpu.oa.domain.User" fetch="join">
            <column name="supervisorId"/>
        </many-to-one>
        <set name="students">
            <key>
                <column name="supervisorId" />
            </key>
            <one-to-many class="cn.dlpu.oa.domain.User" />
        </set>
        <set name="medicines" inverse="false" cascade="all">
            <key>
                <column name="ownerId" />
            </key>
            <one-to-many class="cn.dlpu.oa.domain.Medicine" />
        </set>
        <set name="solutions" inverse="false" cascade="all">
            <key>
                <column name="ownerId" />
            </key>
            <one-to-many class="cn.dlpu.oa.domain.Solution" />
        </set>
        <set name="specimens" inverse="false" cascade="all">
            <key>
                <column name="ownerId" />
            </key>
            <one-to-many class="cn.dlpu.oa.domain.Specimen" />
        </set>
        <set name="tests" inverse="false" cascade="all">
            <key>
                <column name="ownerId" />
            </key>
            <one-to-many class="cn.dlpu.oa.domain.Test" />
        </set>
    </class>
</hibernate-mapping>
